# 로드 밸런싱

1대의 서버로는 트래픽을 감당하기 어려울 경우

—> 하드웨어 성능을 올리거나, 여러 대의 서버가 나눠서 일을 하면 해결

서버를 나눠서 하면 장점

- 하드웨어 성능을 향상하는 것 보다 서버 한 대 추가 비용이 적게 든다.
- 여러 대의 서버 덕분에 무중단 서비스를 제공할 수 있다.

### 로드 밸런싱이란?

 여러 서버를 운영하고, 여러 대의 서버가 나눠서 일하도록 균등하게 트래픽을 분산시켜 주는 것

### 서버 선택 방식

- 라운드 로빈 : 우선순위를 두지 않고 각 프로세스에 일정한 시간을 할당하고 할당된 시간이 지나면 잠시 보류한 뒤, 다음 프로세스에게 돌아가며 기회를 부여하는 운영 방식
    
    → 100초 걸리는 일 5개가 있으면 10초씩 50번 도는 것
    

- Least Connections : 연결 개수가 가장 적은 서버 선택(트래픽으로 인해 세션이 길어지는 경우 권장)

- Source: 사용자 IP를 해싱하여 분배(특정 사용자가 항상 같은 서버로 연결 되는 것 보장)
- hashing : 해시 알고리즘, 인덱스를 키 값으로 결정

### 로드 밸런서 장애 대비

서버를 분배하는 로드 밸런서에 문제가 생길 수 있기 때문에 로드 밸런서를 이중화하여 대비한다.

- 로드 밸런서도 두 개 사용한다, 하나는 예비용으로 두고 있다가 고장나면 사용

https://nesoy.github.io/articles/2018-06/Load-Balancer
